(this["webpackJsonpdiagnosis-ui"]=this["webpackJsonpdiagnosis-ui"]||[]).push([[0],{115:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(9),i=a.n(o),c=(a(90),a(74)),s=a(32),l=a(22),m=a(73),u=a(162),p=a(5),d=a(163),h=a(165),g=a(34),f=a(161),v=a(76),b=a(4),E=a(155),y=a(164),k=a(152),C=a(169),w=a(153),x=a(154),j=a(65),S=a.n(j),O=[];var P=Object(p.a)((function(e){return{categoryHeader:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},categoryHeaderPrimary:{color:e.palette.common.white},item:{paddingTop:1,paddingBottom:1,color:"rgba(255, 255, 255, 0.7)","&:hover,&:focus":{backgroundColor:"rgba(255, 255, 255, 0.08)"}},itemCategory:{backgroundColor:"#232f3e",boxShadow:"0 -1px 0 #404854 inset",paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},firebase:{fontSize:24,color:e.palette.common.white},itemActiveItem:{color:"#4fc3f7"},itemPrimary:{fontSize:"inherit"},itemIcon:{minWidth:"auto",marginRight:e.spacing(2)},divider:{marginTop:e.spacing(2)}}}))((function(e){var t=e.classes,a=Object(v.a)(e,["classes"]);return r.a.createElement(y.a,Object.assign({variant:"permanent"},a),r.a.createElement(k.a,{disablePadding:!0},r.a.createElement(C.a,{className:Object(b.a)(t.firebase,t.item,t.itemCategory)},"Paperbase"),r.a.createElement(C.a,{className:Object(b.a)(t.item,t.itemCategory)},r.a.createElement(w.a,{className:t.itemIcon},r.a.createElement(S.a,null)),r.a.createElement(x.a,{classes:{primary:t.itemPrimary}},"Project Overview")),O.map((function(e){var a=e.id,n=e.children;return r.a.createElement(r.a.Fragment,{key:a},r.a.createElement(C.a,{className:t.categoryHeader},r.a.createElement(x.a,{classes:{primary:t.categoryHeaderPrimary}},a)),n.map((function(e){var a=e.id,n=e.icon,o=e.active;return r.a.createElement(C.a,{key:a,button:!0,className:Object(b.a)(t.item,o&&t.itemActiveItem)},r.a.createElement(w.a,{className:t.itemIcon},n),r.a.createElement(x.a,{classes:{primary:t.itemPrimary}},a))})),r.a.createElement(E.a,{className:t.divider}))}))))})),N=a(45),I=a.n(N),M=a(66),T=a(67),R=a(68),B=a(77),W=a(75),D=a(46),A=a.n(D),z=a(157),H=a(69),U=a.n(H),F=a(156),L=a(116),G=a(47),J=a.n(G),Y=a(158),V=function(e){Object(B.a)(a,e);var t=Object(W.a)(a);function a(e,n){var o;return Object(T.a)(this,a),(o=t.call(this,e,n)).cameraPhoto=null,o.paper={maxWidth:936,margin:"auto",overflow:"hidden"},o.videoRef=r.a.createRef(),o.state={dataUri:"diagnosis.png",isCamStart:!1,predictions:[],progress:!1},o}return Object(R.a)(a,[{key:"componentDidMount",value:function(){this.cameraPhoto=new A.a(this.videoRef.current)}},{key:"startCamera",value:function(e,t){console.log("start Camera"),this.cameraPhoto.startCamera(e,t).then((function(){console.log("camera is started !")})).catch((function(e){console.error("Camera not started!",e)}))}},{key:"startCameraMaxResolution",value:function(e){this.cameraPhoto.startCameraMaxResolution(e).then((function(){console.log("camera is started !")})).catch((function(e){console.error("Camera not started!",e)}))}},{key:"sleep",value:function(e){return new Promise((function(t){return setTimeout(t,e)}))}},{key:"map",value:function(e){var t=[];for(var a in e)t.push(a+": "+e[a]);return t}},{key:"setPrediction",value:function(){var e=Object(M.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="http://127.0.0.1:8000",a="https://diagnosis-test.herokuapp.com",n=this,e.next=5,this.sleep(5e3);case 5:return e.next=7,J.a.get(a+"/status/"+t+"/").then((function(e){var t=n.map(e.data.prediction);n.setState((function(e){return Object(l.a)({},e,{predictions:t})})),n.setState((function(e){return Object(l.a)({},e,{progress:!1})}))}));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"takePhoto",value:function(){var e=this,t=this.cameraPhoto.getDataUri({sizeFactor:1});e.setState((function(e){return Object(l.a)({},e,{progress:!0})})),J.a.post("https://diagnosis-test.herokuapp.com/submit/",{img:t.substr(22)}).then((function(t){e.setPrediction(t.data.jobId)}))}},{key:"stopCamera",value:function(){console.log("stop Camera"),this.cameraPhoto.stopCamera().then((function(){console.log("Camera stoped!")})).catch((function(e){console.log("No camera to stop!:",e)}))}},{key:"onPhotoClick",value:function(){var e=this;if(this.state.isCamStart){var t=!this.state.isCamStart;this.setState((function(e){return Object(l.a)({},e,{isCamStart:t})}),(function(){console.log(e.state.isCamStart)})),this.takePhoto(),this.stopCamera()}else{var a=!this.state.isCamStart;this.setState((function(e){return Object(l.a)({},e,{isCamStart:a})}),(function(){})),this.startCamera(D.FACING_MODES.ENVIRONMENT,{width:320,height:320})}}},{key:"onAnalyse",value:function(){}},{key:"render",value:function(){var e=this;return r.a.createElement(L.a,{className:this.paper},r.a.createElement(F.a,{container:!0,spacing:2,alignItems:"center"},r.a.createElement(F.a,{item:!0},r.a.createElement("video",{style:{display:this.state.isCamStart?"":"none"},ref:this.videoRef,autoPlay:!0}),r.a.createElement("img",{alt:"",src:this.state.dataUri,width:"320px",height:"235px",style:{display:this.state.isCamStart?"none":""}}))),r.a.createElement(F.a,{container:!0,spacing:2,alignItems:"center"},r.a.createElement(F.a,{item:!0},r.a.createElement(z.a,{onClick:function(){e.onPhotoClick()}},r.a.createElement(U.a,null)))),this.state.progress&&r.a.createElement(Y.a,{m:3,p:3}),r.a.createElement(F.a,{container:!0,spacing:2,alignItems:"center"},r.a.createElement(F.a,{item:!0},this.state.predictions.length>0&&r.a.createElement("h2",null,"Predictions"),this.state.predictions.map((function(e){return r.a.createElement("p",{p:1,m:1}," ",e)})))))}}]),a}(r.a.Component);var $=Object(p.a)((function(e){return{paper:{maxWidth:936,margin:"auto",overflow:"hidden"},searchBar:{borderBottom:"1px solid rgba(0, 0, 0, 0.12)"},searchInput:{fontSize:e.typography.fontSize},block:{display:"block"},addUser:{marginRight:e.spacing(1)},contentWrapper:{margin:"40px 16px"}}}))((function(e){return r.a.createElement(V,null)})),_=a(159),q=a(167),K=a(70),Q=a.n(K),X=a(72),Z=a.n(X),ee=a(160),te=a(166);var ae=Object(p.a)((function(e){return{secondaryBar:{zIndex:0},menuButton:{marginLeft:-e.spacing(1)},iconButtonAvatar:{padding:4},link:{textDecoration:"none",color:"rgba(255, 255, 255, 0.7)","&:hover":{color:e.palette.common.white}},button:{borderColor:"rgba(255, 255, 255, 0.7)"}}}))((function(e){var t=e.classes,a=e.onDrawerToggle;return r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,{color:"primary",position:"sticky",elevation:0},r.a.createElement(ee.a,null,r.a.createElement(F.a,{container:!0,spacing:1,alignItems:"center"},r.a.createElement(h.a,{smUp:!0},r.a.createElement(F.a,{item:!0},r.a.createElement(z.a,{color:"inherit","aria-label":"open drawer",onClick:a,className:t.menuButton},r.a.createElement(Q.a,null)))),r.a.createElement(F.a,{item:!0,xs:!0}),r.a.createElement(F.a,{item:!0},r.a.createElement(f.a,{className:t.link,href:"#",variant:"body2"},"Go to docs")),r.a.createElement(F.a,{item:!0},r.a.createElement(te.a,{title:"Alerts \u2022 No alerts"},r.a.createElement(z.a,{color:"inherit"},r.a.createElement(Z.a,null)))),r.a.createElement(F.a,{item:!0},r.a.createElement(z.a,{color:"inherit",className:t.iconButtonAvatar},r.a.createElement(q.a,{src:"/static/images/avatar/1.jpg",alt:"My Avatar"})))))))}));function ne(){return r.a.createElement(g.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(f.a,{color:"inherit",href:"https://material-ui.com/"},"Your Website")," ",(new Date).getFullYear(),".")}var re=Object(m.a)({palette:{primary:{light:"#63ccff",main:"#009be5",dark:"#006db3"}},typography:{h5:{fontWeight:500,fontSize:26,letterSpacing:.5}},shape:{borderRadius:8},props:{MuiTab:{disableRipple:!0}},mixins:{toolbar:{minHeight:48}}});re=Object(l.a)({},re,{overrides:{MuiDrawer:{paper:{backgroundColor:"#18202c"}},MuiButton:{label:{textTransform:"none"},contained:{boxShadow:"none","&:active":{boxShadow:"none"}}},MuiTabs:{root:{marginLeft:re.spacing(1)},indicator:{height:3,borderTopLeftRadius:3,borderTopRightRadius:3,backgroundColor:re.palette.common.white}},MuiTab:{root:Object(s.a)({textTransform:"none",margin:"0 16px",minWidth:0,padding:0},re.breakpoints.up("md"),{padding:0,minWidth:0})},MuiIconButton:{root:{padding:re.spacing(1)}},MuiTooltip:{tooltip:{borderRadius:4}},MuiDivider:{root:{backgroundColor:"#404854"}},MuiListItemText:{primary:{fontWeight:re.typography.fontWeightMedium}},MuiListItemIcon:{root:{color:"inherit",marginRight:0,"& svg":{fontSize:20}}},MuiAvatar:{root:{width:32,height:32}}}});var oe={root:{display:"flex",minHeight:"100vh"},drawer:Object(s.a)({},re.breakpoints.up("sm"),{width:256,flexShrink:0}),app:{flex:1,display:"flex",flexDirection:"column"},main:{flex:1,padding:re.spacing(6,4),background:"#eaeff1"},footer:{padding:re.spacing(2),background:"#eaeff1"}};var ie=Object(p.a)(oe)((function(e){var t=e.classes,a=r.a.useState(!1),n=Object(c.a)(a,2),o=n[0],i=n[1],s=function(){i(!o)};return r.a.createElement(u.a,{theme:re},r.a.createElement("div",{className:t.root},r.a.createElement(d.a,null),r.a.createElement("nav",{className:t.drawer},r.a.createElement(h.a,{smUp:!0,implementation:"js"},r.a.createElement(P,{PaperProps:{style:{width:256}},variant:"temporary",open:o,onClose:s})),r.a.createElement(h.a,{xsDown:!0,implementation:"css"},r.a.createElement(P,{PaperProps:{style:{width:256}}}))),r.a.createElement("div",{className:t.app},r.a.createElement(ae,{onDrawerToggle:s}),r.a.createElement("main",{className:t.main},r.a.createElement($,{predications:"predication jindabad"})),r.a.createElement("footer",{className:t.footer},r.a.createElement(ne,null)))))}));var ce=function(){return r.a.createElement(ie,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ce,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},85:function(e,t,a){e.exports=a(115)},90:function(e,t,a){}},[[85,1,2]]]);
//# sourceMappingURL=main.e749fba6.chunk.js.map